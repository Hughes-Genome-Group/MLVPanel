<!doctype html>
<html>
	<head>
  	</head>
  	<body>
		<div id="the-track" style="height:200px;width:600px;border:1px solid black;"> </div>
		<!-- only necessary for browsers which do not support es6-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser-polyfill.min.js"></script>
		<!-- contains all the js and css necessary -->
   	 	<script src="../dist/mlv_panel.js" ></script>
   	 	<script>   

    		var tracks=[
    			{url:"http://martindev1.molbiol.ox.ac.uk/tracks/examples/peaks.bw",track_id:"peaks",color:"#939391",scale:"dynamic"},
    			{url:"http://martindev1.molbiol.ox.ac.uk/tracks/examples/smooth.bw",
    				color:"#800000",display:"line",scale_link_to:"peaks"},
  
    			{url:"http://martindev1.molbiol.ox.ac.uk/tracks/examples/region.bb",
    				color:"#ff9385",displayMode:"EXPANDED",short_label:"regions"},
    			{url:"https://s3.amazonaws.com/igv.broadinstitute.org/annotations/hg19/genes/refGene.hg19.bed.gz"}
    		];

    		var main_panel = new MLVPanel(tracks,{
			allow_user_drag:true,
			allow_user_zoom:true,
			div:"the-track",
			allow_user_feature_click:true
    		});
   	 		main_panel.addRulerTrack().addListener("feature_clicked",
    			function(track,feature){
    				if (!feature){
    					return;
    				}
    			let config={
    				allow_user_close:true,
    				allow_user_zoom:true,
    				allow_user_drag:true,
    				allow_user_move:true,
    				allow_user_resize:true,
    				height:200,
    				width:400,
    			}
			let panel= new MLVPanel(tracks,config);
			panel.addRulerTrack();
			let div = panel.getDiv();
			div.css({top:"220px",left:"30px",border:"1px solid black"}).appendTo("body");
			panel.update(feature.chr,feature.start-100,feature.end+100);
        	}
   	 );
     	main_panel.addLegend();
    	main_panel.update("chr19",470000,510000);



 


		</script>
  	</body>
</html>
